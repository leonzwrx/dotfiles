" Plugin Loading
call plug#begin('~/.vim/plugged')
Plug 'itchyny/lightline.vim' "Highlights lines
"Plug 'joshdick/onedark.vim' "The One Dark Theme
Plug 'nordtheme/vim' "Nord Theme
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
Plug 'junegunn/fzf.vim' "Fuzzy find plugin
Plug 'junegunn/goyo.vim' "Removes Line numbers for focusing
Plug 'mbbill/undotree' "Creates an undo tree
Plug 'preservim/nerdtree' "File browser inside vim
Plug 'godlygeek/tabular' "Auto formatting
Plug 'plasticboy/vim-markdown' "Markdown syntax highlighting
Plug 'ryanoasis/vim-devicons' "Cool icons for nerd tree
Plug 'Xuyuanp/nerdtree-git-plugin' "nerd tree customization
Plug '907th/vim-auto-save' "auto saves files as you edit
Plug 'ap/vim-css-color' "color previews
call plug#end()

" Startup Settings
syntax on
  let NERDTreeShowHidden=1
  let g:auto_save = 1
  let g:auto_save_events = ["InsertLeave", "TextChanged"]
  let g:fzf_vim = {}
  let g:fzf_vim.preview_bash = 'C:\\Users\\1136403\\AppData\\Local\\Programs\\Git\\git-bash.exe'
  let $FZF_DEFAULT_COMMAND = 'C:\_bin\fd --type f --hidden --follow --exclude .git --ignore-file ~/.fzfignore'
  
  set mouse=a "Allows mouse usage inside vim. Great for noobs.
  set clipboard=unnamedplus "Remaps default copy paste to system clipboard
  set go+=a                " Makes the Menu bar permanently visible in gVIM
  set cursorline
  highlight CursorLine ctermbg=Yellow cterm=bold guibg=#2b2b2b
set noerrorbells
  set splitbelow splitright
set tabstop=2 softtabstop=2
set shiftwidth=2
set expandtab
set smartindent
"Folding Settings
set nofoldenable "in the past, left enabvled
set foldcolumn=1
  set foldmethod=marker
  set foldmarker={,}

set nowrap
set smartcase
set noswapfile
set nobackup
set incsearch
set hlsearch
  set history=5000
set nocompatible
  set number relativenumber
  set background=dark
  colorscheme nord
  colorscheme onedar
  set termguicolors
filetype plugin on
set encoding=utf-8
set wildmenu
set wildmode=longest,list,full
set laststatus=2 " Ensure the statusline is always visible
set guifont=Ubuntu\ Mono:h11

autocmd FileType * setlocal formatoptions-=c formatoptions-=r formatoptions-=o
set spell spelllang=en_us

" Plugin Shortcuts
  map <Leader>n :NERDTreeToggle<CR>
  map <Leader>g :Goyo<CR>
  nnoremap <F5> :UndotreeToggle<CR> :UndotreeFocus<CR>
  nnoremap <Leader>f :Files!<CR>
  nnoremap <Leader>h :History<CR>
  nnoremap <Leader>l :Tabularize /

  " Persistent_undo
set undodir=C:/Users/1136403/.vim/undodir
set undofile
let g:undotree_WindowLayout = 2

" Tabedit keybinds
  nnoremap <Leader>1 1gt<CR>
  nnoremap <Leader>2 2gt<CR>
  nnoremap <Leader>3 3gt<CR>
  nnoremap <Leader>4 4gt<CR>
  nnoremap <Leader>5 5gt<CR>
  nnoremap <Leader>t :tabnew<CR>
  nnoremap <Leader>c :tabclose<CR>


" Markdown Edits
  let g:vim_markdown_autowrite = 1
  let g:vim_markdown_no_extensions_in_markdown = 1
  let g:vim_markdown_conceal = 0
  let g:vim_markdown_override_foldtext = 0
  let g:vim_markdown_folding_disabled = 1
"  let g:vim_markdown_folding_disabled = 0
  let g:vim_markdown_new_list_item_indent = 0

" Markdown auto format tables
inoremap <silent> <Bar>   <Bar><Esc>:call <SID>align()<CR>a

" transparent bg
" autocmd vimenter * hi Normal guibg=NONE ctermbg=NONE
set backspace=indent,eol,start  " more powerful backspacing

